export default[
    [
        "downloadFIle1",
        "{\"name\":\"downloadFIle1\",\"input\":[{\"name\":\"Download File\",\"type\":\"downloadFile\"},{\"name\":\"addressAndLengthFormatIdentifier\",\"type\":\"input\",\"rule\":[{\"required\":true,\"pattern\":\"^([0-9a-fA-F]{2})+$\",\"message\":\"必须输入HEX格式\",\"trigger\":\"change\"},{\"min\":2,\"max\":2,\"message\":\"长度为1个字节\",\"trigger\":\"change\"}]},{\"name\":\"memoryAddress\",\"type\":\"input\",\"rule\":[{\"required\":true,\"pattern\":\"^([0-9a-fA-F]{2})+$\",\"message\":\"必须输入HEX格式\",\"trigger\":\"change\"}]},{\"name\":\"memorySize\",\"type\":\"input\",\"rule\":[{\"required\":true,\"pattern\":\"^([0-9a-fA-F]{2})+$\",\"message\":\"必须输入HEX格式\",\"trigger\":\"change\"}]}],\"changeslot\":[\"0,0\",\"0,2\",\"0,3\",\"0,4\"],\"table\":[{\"type\":\"uds\",\"func\":\"if(readData[0]!=0x74){\\n        return false;\\n    }\\n    /*calculate bs*/\\n    var len = (readData[1] & 0xf0) >> 4;\\n    if(len+2!=readData.length){\\n        return false;\\n    }\\n    var bs=0;\\n    for (var i = 0; i < len; i++) {\\n        bs += readData[2 + i] * Math.pow(256, (len - 1 - i))\\n    }\\n    if(bs<=2){\\n        /*service number and blocknum*/\\n        return false;\\n    }\\n    bs-=2;\\n\\n    this.openFile(writeData[0]['Download File'].name,'r');\\n    \\n    var payload=[];\\n    var bn=1;\\n    var size=parseInt(writeData[4].memorySize,16);\\n    var data;\\n    if(size>bs){\\n        data=this.readFile(bs);\\n        if(data.length!=bs){\\n            this.log(\\\"file no enough data\\\");\\n            return false;\\n        }\\n        size-=bs;\\n    }else{\\n        data=this.readFile(size);\\n        if(data.length!=size){\\n            this.log(\\\"file no enough data\\\");\\n            return false;\\n        }\\n        size=0;\\n    }\\n    payload.push({\\n        type:\\\"number\\\",\\n        name:'blockNum',\\n        blockNum:bn,\\n    });\\n    payload.push({\\n        type:\\\"input\\\",\\n        name:'data',\\n        data:data,\\n    });\\n    var check=(writeData,readData)=>{\\n        if(writeData[0].blockNum!=readData[1]){\\n            return false;\\n        }\\n        if(size==0){\\n            this.insertItem(0x37,[]);\\n            this.closeFile()\\n        }else{\\n            if(size>bs){\\n                data=this.readFile(bs);\\n                if(data.length!=bs){\\n                    this.log(\\\"file no enough data\\\");\\n                    return false;\\n                }\\n                size-=bs;\\n            }else{\\n                data=this.readFile(size);\\n                if(data.length!=size){\\n                    this.log(\\\"file no enough data\\\");\\n                    return false;\\n                }\\n                size=0;\\n            }\\n            bn++;\\n            if(bn==256){\\n                bn=0;\\n            }\\n            payload=[]\\n            payload.push({\\n                type:\\\"number\\\",\\n                name:'blockNum',\\n                blockNum:bn,\\n            });\\n            payload.push({\\n                type:\\\"input\\\",\\n                name:'data',\\n                data:data,\\n            });\\n            this.insertItem(0x36,payload,check);\\n        }\\n    }\\n    this.insertItem(0x36,payload,check);\\n    return true;\",\"service\":{\"name\":\"RequestDownload\",\"value\":52},\"payload\":[{\"type\":\"downloadFile\",\"name\":\"Download File\",\"Download File\":{\"name\":\"C:\\\\Users\\\\nxf45772\\\\Downloads\\\\A.json\",\"size\":325}},{\"type\":\"input\",\"name\":\"dataFormatIdentifier\",\"dataFormatIdentifier\":\"00\"},{\"type\":\"input\",\"name\":\"addressAndLengthFormatIdentifier\",\"addressAndLengthFormatIdentifier\":\"22\"},{\"type\":\"input\",\"name\":\"memoryAddress\",\"memoryAddress\":\"33\"},{\"type\":\"input\",\"name\":\"memorySize\",\"memorySize\":\"44\"}],\"date\":1588124794790}]}"
    ],
    [
        "uploadFile1",
        "{\"name\":\"uploadFile1\",\"input\":[{\"name\":\"Upload File\",\"type\":\"uploadFile\"},{\"name\":\"addressAndLengthFormatIdentifier\",\"type\":\"input\",\"rule\":[{\"required\":true,\"pattern\":\"^([0-9a-fA-F]{2})+$\",\"message\":\"必须输入HEX格式\",\"trigger\":\"change\"},{\"min\":2,\"max\":2,\"message\":\"长度为1个字节\",\"trigger\":\"change\"}]},{\"name\":\"memoryAddress\",\"type\":\"input\",\"rule\":[{\"required\":true,\"pattern\":\"^([0-9a-fA-F]{2})+$\",\"message\":\"必须输入HEX格式\",\"trigger\":\"change\"}]},{\"name\":\"memorySize\",\"type\":\"input\",\"rule\":[{\"required\":true,\"pattern\":\"^([0-9a-fA-F]{2})+$\",\"message\":\"必须输入HEX格式\",\"trigger\":\"change\"}]}],\"changeslot\":[\"0,0\",\"0,2\",\"0,3\",\"0,4\"],\"table\":[{\"type\":\"uds\",\"func\":\"if(readData[0]!=0x74){\\n        return false;\\n    }\\n    /*calculate bs*/\\n    var len = (readData[1] & 0xf0) >> 4;\\n    if(len+2!=readData.length){\\n        return false;\\n    }\\n    var bs=0;\\n    for (var i = 0; i < len; i++) {\\n        bs += readData[2 + i] * Math.pow(256, (len - 1 - i))\\n    }\\n    if(bs<=2){\\n        /*service number and blocknum*/\\n        return false;\\n    }\\n \\n\\n    this.openFile(writeData[0]['Upload File'].name,'w+');\\n    \\n    var payload=[];\\n    var bn=1;\\n    var size=parseInt(writeData[4].memorySize,16);\\n\\n    payload.push({\\n        type:\\\"number\\\",\\n        name:'blockNum',\\n        blockNum:bn,\\n    });\\n    \\n    var check=(writeData,readData)=>{\\n        if(readData.length>bs){\\n            return false;\\n        }\\n        if(writeData[0].blockNum!=readData[1]){\\n            return false;\\n        }\\n        if(size>(readData.length-2)){\\n            this.writeFile(readData.slice(2));\\n            size-=(readData.length-2);\\n        }else{\\n            this.writeFile(readData.slice(2,2+size));\\n            size=0;\\n        }\\n        \\n        if(size==0){\\n            this.insertItem(0x37,[]);\\n            this.closeFile()\\n        }else{\\n            bn++;\\n            if(bn==256){\\n                bn=0;\\n            }\\n            payload=[]\\n            payload.push({\\n                type:\\\"number\\\",\\n                name:'blockNum',\\n                blockNum:bn,\\n            });\\n            this.insertItem(0x36,payload,check);\\n        }\\n    }\\n    this.insertItem(0x36,payload,check);\\n    return true;\",\"service\":{\"name\":\"RequestUpload\",\"value\":53},\"payload\":[{\"type\":\"uploadFile\",\"name\":\"Upload File\",\"Upload File\":{\"name\":\"C:\\\\Users\\\\nxf45772\\\\Downloads\\\\A.json\",\"size\":0}},{\"type\":\"input\",\"name\":\"dataFormatIdentifier\",\"dataFormatIdentifier\":\"00\"},{\"type\":\"input\",\"name\":\"addressAndLengthFormatIdentifier\",\"addressAndLengthFormatIdentifier\":\"11\"},{\"type\":\"input\",\"name\":\"memoryAddress\",\"memoryAddress\":\"22\"},{\"type\":\"input\",\"name\":\"memorySize\",\"memorySize\":\"0100\"}],\"date\":1588129127857}]}"
    ]

]
